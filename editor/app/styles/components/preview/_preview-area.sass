.preview-area
  position: relative
  width: 100%
  height: 100%
  z-index: 1
  overflow: hidden
  background-color: $grayLightest

.editor-wrapper

  .dropperTrios_spyglass
    z-index: 1000
    border: 1px solid $black
    border-radius: 10em
    box-shadow: $shadow
  #overlay
    position: fixed
    display: block
    width: 100%
    height: 100%
    top: 60px
    left: 0
    right: 0
    bottom: 0
    background-color: rgba(0,0,0,0.5)
    z-index: 999
    cursor: pointer
    #text
      position: absolute
      text-align: center
      top: 50%
      left: 62%
      font-size: 23px
      font-weight: bold
      color: white
      transform: translate(-50%,-50%)
      -ms-transform: translate(-50%,-50%)

  .preview-wrapper
    width: 100%
    height: 100%
    position: relative

    .bar-bottom, .modal, .slider, .takeover
      #hellobar-pusher
        display: none !important

    #hellobar-preview-container
      top: 0
      width: calc(100% - 20px)
      height: calc(100% - 75px)
      position: relative
      overflow: hidden
      margin: 10px
      transition: width 0.5s
      box-shadow: 0px 5px 5px 2px rgba(0, 0, 0, 0.2)

      canvas
        z-index: 10
        position: absolute
        top: 0
        left: 0

      iframe
        width: 100%
        height: 100%
        position: absolute
        z-index: 3

      .preview-wrapper
        width: 100%
        height: 100%
        box-shadow: inset 0 0 1em rgba(0,0,0,0.15)

      .loading-message
        text-align: center
        position: absolute
        top: 50%
        right: 50%
        z-index: 1
        min-width: 160px
        // perspective is set to eliminate font blurring
        transform: perspective(1px) translateX(50%) translateY(-50%)

        i:before
          display: block
          font-size: 2.75em
          animation: spin 2s infinite ease-in-out

      .preview-image
        width: 100%
        height: 100%
        margin-top: 0
        border-width: 0
        border-style: solid
        border-color: transparent
        background-size: cover
        background-repeat: no-repeat
        background-position: center top
        background-color: transparent
        position: relative
        z-index: 2

      .preview-image-for-colorpicker
        top: -99999px
        left: -99999px
        width: initial
        position: absolute

      &.is-pushed.bar
        overflow: hidden

  /*-----------  Mobile State  -----------*/

  &.is-mobile

    .preview-image
      width: 375px !important
      height: 667px !important
      border-top: none !important
      position: relative !important

    #hellobar-preview-container
      width: 375px
      max-height: 667px
      overflow: hidden
      margin: -3px auto 0
      border: 1px solid $grayLight
      @include vertical-align()

      iframe.hb-bar-bottom
        padding-left: 0 !important
        position: absolute !important

      &.is-pushed.bar.bar-top .preview-image
        top: -12px !important

  /*-----------  Tablet State  -----------*/

  &.is-tablet

    .preview-image
      width: 768px !important
      height: calc(100% - 75px) !important
      min-height: 100% !important
      border-top: none !important
      position: relative !important

    #hellobar-preview-container
      width: 768px
      height: calc(100% - 75px)
      min-height: calc(100% - 75px)
      overflow: hidden
      margin: -30px auto 0
      border: 1px solid $grayLight
      @include vertical-align()

      iframe.hb-bar-bottom
        padding-left: 0 !important
        position: absolute !important

      &.is-pushed.bar.bar-top .preview-image
        top: -12px !important
