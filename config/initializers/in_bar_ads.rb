# Site.where("script_installed_at IS NOT NULL AND script_uninstalled_at IS NULL").order("created_at DESC").limit(2000).pluck(:id)
control = [223068, 223061, 223054, 223047, 223041, 223036, 223029, 223027, 223021, 223017, 223012, 223010, 222996, 222990, 222983, 222972, 222967, 222955, 222943, 222937, 222931, 222921, 222917, 222913, 222908, 222904, 222900, 222898, 222889, 222883, 222873, 222870, 222858, 222855, 222849, 222842, 222837, 222833, 222828, 222826, 222822, 222812, 222806, 222799, 222794, 222786, 222769, 222765, 222762, 222753, 222747, 222743, 222740, 222738, 222735, 222731, 222729, 222727, 222721, 222715, 222712, 222707, 222705, 222700, 222689, 222686, 222676, 222669, 222662, 222653, 222642, 222633, 222627, 222620, 222617, 222613, 222609, 222603, 222600, 222595, 222589, 222580, 222578, 222564, 222553, 222550, 222547, 222543, 222532, 222529, 222525, 222515, 222513, 222507, 222503, 222500, 222497, 222483, 222476, 222470, 222465, 222453, 222449, 222446, 222440, 222427, 222421, 222410, 222407, 222404, 222402, 222398, 222389, 222380, 222374, 222364, 222357, 222338, 222332, 222324, 222322, 222314, 222306, 222303, 222297, 222291, 222286, 222282, 222274, 222269, 222267, 222265, 222250, 222246, 222239, 222233, 222217, 222207, 222197, 222195, 222188, 222183, 222174, 222172, 222155, 222145, 222135, 222131, 222129, 222126, 222116, 222113, 222109, 222105, 222097, 222089, 222085, 222075, 222067, 222059, 222052, 222042, 222034, 222022, 222015, 222012, 222009, 221998, 221994, 221991, 221988, 221984, 221976, 221960, 221953, 221946, 221941, 221932, 221929, 221927, 221914, 221907, 221894, 221888, 221882, 221878, 221872, 221868, 221860, 221840, 221834, 221831, 221828, 221824, 221821, 221816, 221812, 221804, 221797, 221787, 221773, 221766, 221760, 221754, 221744, 221737, 221726, 221720, 221708, 221702, 221696, 221691, 221685, 221681, 221675, 221668, 221664, 221659, 221655, 221653, 221648, 221642, 221637, 221633, 221627, 221618, 221610, 221604, 221590, 221585, 221580, 221573, 221568, 221564, 221561, 221558, 221554, 221548, 221541, 221537, 221532, 221524, 221522, 221517, 221513, 221506, 221497, 221486, 221478, 221474, 221470, 221464, 221462, 221460, 221458, 221455, 221449, 221435, 221431, 221426, 221421, 221416, 221406, 221404, 221398, 221391, 221388, 221381, 221374, 221371, 221368, 221362, 221354, 221350, 221348, 221345, 221339, 221335, 221332, 221329, 221326, 221322, 221320, 221316, 221309, 221304, 221298, 221294, 221290, 221285, 221281, 221279, 221274, 221272, 221268, 221257, 221250, 221245, 221242, 221236, 221233, 221231, 221213, 221191, 221183, 221167, 221161, 221157, 221150, 221144, 221139, 221136, 221130, 221126, 221121, 221114, 221110, 221105, 221103, 221101, 221098, 221095, 221090, 221087, 221083, 221078, 221067, 221064, 221062, 221054, 221050, 221047, 221043, 221035, 221032, 221027, 221024, 221021, 221008, 221006, 221003, 220998, 220993, 220982, 220972, 220969, 220965, 220959, 220950, 220942, 220938, 220924, 220920, 220916, 220912, 220910, 220901, 220894, 220888, 220884, 220873, 220870, 220867, 220858, 220852, 220840, 220837, 220835, 220831, 220823, 220816, 220808, 220791, 220786, 220783, 220780, 220775, 220766, 220753, 220745, 220739, 220734, 220720, 220713, 220709, 220706, 220698, 220692, 220689, 220683, 220681, 220676, 220666, 220664, 220661, 220659, 220650, 220643, 220641, 220637, 220626, 220616, 220611, 220600, 220595, 220588, 220581, 220579, 220575, 220563, 220554, 220551, 220547, 220542, 220539, 220527, 220522, 220515, 220512, 220505, 220492, 220485, 220483, 220470, 220465, 220462, 220458, 220452, 220426, 220423, 220400, 220396, 220393, 220387, 220384, 220381, 220376, 220372, 220366, 220358, 220352, 220341, 220336, 220333, 220320, 220314, 220295, 220290, 220265, 220259, 220254, 220248, 220245, 220241, 220237, 220229, 220221, 220212, 220207, 220204, 220201, 220198, 220181, 220178, 220174, 220169, 220163, 220161, 220158, 220154, 220149, 220139, 220129, 220119, 220113, 220107, 220100, 220095, 220083, 220079, 220076, 220072, 220060, 220055, 220046, 220044, 220039, 220033, 220029, 220026, 220021, 220019, 220013, 220008, 220001, 219991, 219981, 219972, 219963, 219960, 219950, 219939, 219933, 219928, 219920, 219898, 219890, 219882, 219877, 219875, 219873, 219865, 219862, 219854, 219847, 219843, 219840, 219834, 219830, 219816, 219811, 219807, 219801, 219797, 219791, 219784, 219780, 219772, 219769, 219765, 219762, 219755, 219747, 219736, 219729, 219727, 219721, 219718, 219703, 219700, 219695, 219689, 219683, 219680, 219676, 219667, 219659, 219652, 219633, 219630, 219627, 219617, 219608, 219606, 219603, 219598, 219588, 219582, 219576, 219570, 219561, 219557, 219554, 219539, 219536, 219529, 219522, 219511, 219507, 219482, 219480, 219475, 219473, 219468, 219464, 219461, 219448, 219435, 219415, 219409, 219402, 219399, 219391, 219384, 219377, 219360, 219351, 219345, 219340, 219335, 219333, 219328, 219324, 219308, 219305, 219291, 219287, 219283, 219279, 219273, 219265, 219261, 219253, 219249, 219246, 219237, 219234, 219229, 219222, 219219, 219216, 219211, 219199, 219195, 219185, 219171, 219169, 219151, 219149, 219144, 219138, 219133, 219118, 219109, 219105, 219094, 219086, 219080, 219076, 219074, 219071, 219069, 219065, 219059, 219047, 219044, 219033, 219030, 219023, 219010, 219007, 218999, 218990, 218981, 218969, 218965, 218950, 218945, 218939, 218932, 218921, 218913, 218899, 218897, 218893, 218891, 218885, 218880, 218872, 218868, 218866, 218861, 218859, 218848, 218844, 218838, 218834, 218825, 218823, 218817, 218813, 218809, 218806, 218802, 218795, 218792, 218788, 218784, 218778, 218774, 218772, 218766, 218749, 218739, 218731, 218722, 218706, 218703, 218699, 218697, 218684, 218673, 218668, 218618, 218611, 218597, 218591, 218585, 218573, 218567, 218565, 218559, 218556, 218552, 218545, 218539, 218529, 218521, 218517, 218511, 218503, 218498, 218493, 218490, 218486, 218472, 218467, 218463, 218457, 218451, 218442, 218434, 218422, 218416, 218412, 218409, 218402, 218387, 218381, 218374, 218367, 218358, 218356, 218347, 218330, 218317, 218307, 218304, 218294, 218271, 218267, 218263, 218252, 218248, 218245, 218240, 218233, 218229, 218223, 218205, 218201, 218191, 218178, 218169, 218166, 218162, 218160, 218153, 218150, 218139, 218130, 218127, 218118, 218114, 218092, 218087, 218079, 218055, 218051, 218046, 218031, 218020, 218008, 218000, 217990, 217981, 217968, 217959, 217955, 217953, 217941, 217920, 217908, 217894, 217891, 217884, 217881, 217874, 217869, 217867, 217862, 217857, 217852, 217846, 217837, 217834, 217823, 217810, 217801, 217799, 217793, 217786, 217781, 217771, 217766, 217754, 217734, 217730, 217723, 217715, 217711, 217704, 217698, 217686, 217668, 217664, 217656, 217644, 217636, 217632, 217624, 217616, 217605, 217602, 217597, 217594, 217588, 217580, 217571, 217561, 217546, 217542, 217539, 217526, 217524, 217512, 217503, 217497, 217494, 217488, 217480, 217476, 217469, 217463, 217458, 217455, 217448, 217445, 217441, 217420, 217417, 217414, 217409, 217405, 217398, 217390, 217380, 217366, 217359, 217350, 217333, 217327, 217324, 217317, 217308, 217305, 217298, 217293, 217291, 217288, 217285, 217282, 217277, 217273, 217271, 217266, 217255, 217243, 217233, 217229, 217223, 217219, 217208, 217198, 217194, 217188, 217182, 217178, 217175, 217168, 217159, 217153, 217146, 217120, 217115, 217105, 217099, 217081, 217073, 217069, 217061, 217058, 217048, 217044, 217041, 217034, 217028, 217025, 217015, 217012, 217009, 216987, 216984, 216978, 216971, 216965, 216960, 216946, 216933, 216931, 216925, 216921, 216917, 216914, 216908, 216896, 216892, 216886, 216882, 216869, 216862, 216855, 216850, 216847, 216835, 216824, 216811, 216798, 216789, 216778, 216770, 216748, 216737, 216727, 216721, 216712, 216701, 216699, 216694, 216682, 216675, 216669, 216657, 216652, 216643, 216639, 216634, 216630, 216622, 216616, 216609, 216606, 216595, 216589, 216586, 216582, 216577, 216573, 216569, 216564, 216559, 216552, 216546, 216538, 216530, 216521, 216509, 216485, 216477, 216458, 216456, 216450, 216446, 216436, 216432, 216427, 216419, 216405, 216399, 216395, 216386, 216380, 216375, 216370, 216357, 216339, 216333, 216323, 216301, 216277]
site_ids = [223077, 223066, 223055, 223050, 223046, 223037, 223033, 223028, 223024, 223019, 223015, 223011, 222999, 222994, 222985, 222982, 222971, 222956, 222953, 222941, 222935, 222925, 222918, 222916, 222910, 222907, 222902, 222899, 222895, 222884, 222876, 222871, 222864, 222856, 222850, 222845, 222839, 222835, 222829, 222827, 222824, 222813, 222810, 222803, 222797, 222790, 222771, 222766, 222763, 222755, 222752, 222744, 222741, 222739, 222737, 222733, 222730, 222728, 222726, 222716, 222713, 222711, 222706, 222704, 222697, 222687, 222679, 222675, 222667, 222658, 222643, 222637, 222629, 222626, 222618, 222615, 222612, 222606, 222602, 222599, 222594, 222588, 222579, 222569, 222560, 222551, 222549, 222544, 222537, 222531, 222527, 222524, 222514, 222512, 222505, 222502, 222499, 222492, 222480, 222475, 222466, 222462, 222452, 222447, 222441, 222431, 222423, 222414, 222409, 222406, 222403, 222400, 222393, 222387, 222376, 222367, 222358, 222355, 222335, 222330, 222323, 222319, 222310, 222304, 222300, 222292, 222290, 222283, 222280, 222272, 222268, 222266, 222258, 222249, 222243, 222234, 222224, 222208, 222201, 222196, 222191, 222184, 222178, 222173, 222157, 222148, 222139, 222133, 222130, 222127, 222117, 222114, 222110, 222108, 222103, 222092, 222086, 222084, 222073, 222064, 222055, 222046, 222040, 222028, 222019, 222013, 222010, 222005, 221997, 221993, 221990, 221986, 221983, 221973, 221955, 221948, 221942, 221937, 221931, 221928, 221925, 221913, 221904, 221889, 221885, 221881, 221875, 221871, 221863, 221856, 221835, 221832, 221830, 221827, 221822, 221819, 221814, 221810, 221799, 221788, 221784, 221768, 221761, 221759, 221747, 221740, 221731, 221721, 221712, 221705, 221698, 221694, 221686, 221684, 221678, 221674, 221667, 221662, 221656, 221654, 221652, 221643, 221638, 221634, 221630, 221619, 221616, 221607, 221593, 221586, 221581, 221575, 221572, 221565, 221563, 221560, 221556, 221551, 221547, 221538, 221535, 221528, 221523, 221519, 221515, 221511, 221502, 221490, 221480, 221475, 221473, 221465, 221463, 221461, 221459, 221456, 221454, 221438, 221432, 221428, 221425, 221417, 221411, 221405, 221403, 221392, 221389, 221383, 221376, 221373, 221370, 221365, 221357, 221351, 221349, 221346, 221343, 221337, 221333, 221330, 221328, 221325, 221321, 221318, 221311, 221305, 221300, 221295, 221292, 221287, 221282, 221280, 221278, 221273, 221270, 221260, 221255, 221247, 221244, 221238, 221234, 221232, 221223, 221198, 221188, 221177, 221163, 221158, 221153, 221146, 221142, 221138, 221131, 221128, 221122, 221120, 221111, 221109, 221104, 221102, 221100, 221096, 221092, 221089, 221085, 221081, 221074, 221066, 221063, 221060, 221051, 221049, 221045, 221040, 221034, 221030, 221025, 221023, 221020, 221007, 221005, 220999, 220997, 220989, 220976, 220970, 220966, 220961, 220952, 220943, 220940, 220926, 220921, 220918, 220913, 220911, 220908, 220895, 220891, 220886, 220875, 220872, 220868, 220865, 220855, 220848, 220838, 220836, 220833, 220828, 220817, 220811, 220806, 220790, 220784, 220782, 220779, 220774, 220758, 220751, 220743, 220735, 220727, 220719, 220711, 220707, 220699, 220697, 220690, 220688, 220682, 220678, 220674, 220665, 220663, 220660, 220653, 220647, 220642, 220640, 220630, 220625, 220613, 220607, 220596, 220592, 220583, 220580, 220576, 220574, 220561, 220552, 220549, 220544, 220541, 220531, 220523, 220519, 220514, 220509, 220495, 220488, 220484, 220476, 220466, 220464, 220461, 220453, 220431, 220425, 220401, 220399, 220395, 220391, 220385, 220382, 220378, 220374, 220367, 220359, 220353, 220347, 220337, 220335, 220326, 220316, 220297, 220291, 220288, 220260, 220257, 220253, 220246, 220244, 220239, 220235, 220223, 220213, 220211, 220205, 220202, 220200, 220197, 220179, 220177, 220170, 220165, 220162, 220159, 220156, 220152, 220143, 220132, 220128, 220115, 220110, 220106, 220098, 220085, 220082, 220077, 220074, 220070, 220057, 220054, 220045, 220041, 220038, 220032, 220028, 220024, 220020, 220014, 220012, 220005, 219996, 219983, 219976, 219967, 219961, 219951, 219940, 219935, 219932, 219927, 219912, 219894, 219886, 219879, 219876, 219874, 219867, 219863, 219856, 219848, 219844, 219842, 219836, 219831, 219827, 219814, 219810, 219805, 219800, 219795, 219790, 219782, 219777, 219771, 219768, 219764, 219761, 219748, 219746, 219735, 219728, 219724, 219719, 219704, 219701, 219696, 219693, 219687, 219682, 219677, 219668, 219661, 219657, 219647, 219631, 219628, 219622, 219615, 219607, 219604, 219600, 219592, 219586, 219581, 219573, 219569, 219558, 219555, 219540, 219538, 219532, 219524, 219519, 219508, 219491, 219481, 219478, 219474, 219469, 219466, 219462, 219458, 219446, 219422, 219410, 219407, 219401, 219392, 219388, 219379, 219362, 219357, 219348, 219344, 219337, 219334, 219330, 219325, 219316, 219306, 219304, 219290, 219285, 219280, 219275, 219266, 219264, 219254, 219252, 219247, 219239, 219236, 219233, 219228, 219221, 219218, 219215, 219207, 219196, 219188, 219184, 219170, 219155, 219150, 219148, 219143, 219137, 219126, 219110, 219108, 219103, 219092, 219082, 219079, 219075, 219073, 219070, 219068, 219063, 219050, 219045, 219034, 219031, 219025, 219022, 219009, 219006, 218998, 218988, 218976, 218967, 218952, 218946, 218941, 218937, 218931, 218918, 218900, 218898, 218896, 218892, 218889, 218883, 218873, 218869, 218867, 218865, 218860, 218855, 218847, 218842, 218836, 218827, 218824, 218821, 218815, 218811, 218808, 218805, 218801, 218793, 218789, 218787, 218781, 218775, 218773, 218770, 218751, 218742, 218738, 218723, 218717, 218705, 218700, 218698, 218694, 218674, 218671, 218621, 218612, 218609, 218595, 218590, 218578, 218571, 218566, 218563, 218558, 218555, 218551, 218544, 218532, 218526, 218518, 218516, 218510, 218500, 218494, 218492, 218489, 218481, 218470, 218464, 218459, 218456, 218443, 218437, 218423, 218420, 218414, 218411, 218408, 218392, 218385, 218377, 218370, 218366, 218357, 218352, 218344, 218323, 218310, 218306, 218296, 218275, 218270, 218265, 218258, 218251, 218246, 218242, 218237, 218232, 218226, 218221, 218202, 218200, 218189, 218177, 218168, 218163, 218161, 218156, 218151, 218145, 218137, 218128, 218120, 218117, 218102, 218088, 218080, 218065, 218053, 218048, 218036, 218029, 218017, 218001, 217999, 217986, 217971, 217962, 217957, 217954, 217947, 217938, 217910, 217907, 217892, 217885, 217882, 217875, 217870, 217868, 217865, 217858, 217855, 217850, 217838, 217836, 217828, 217819, 217806, 217800, 217796, 217788, 217783, 217775, 217767, 217759, 217740, 217733, 217727, 217722, 217712, 217707, 217701, 217692, 217680, 217667, 217657, 217646, 217637, 217635, 217625, 217620, 217615, 217604, 217600, 217596, 217590, 217583, 217577, 217566, 217547, 217544, 217541, 217528, 217525, 217522, 217506, 217499, 217496, 217493, 217483, 217478, 217470, 217464, 217462, 217456, 217454, 217446, 217443, 217436, 217419, 217416, 217412, 217408, 217399, 217394, 217382, 217371, 217364, 217356, 217335, 217329, 217326, 217323, 217315, 217306, 217304, 217297, 217292, 217289, 217286, 217283, 217281, 217275, 217272, 217269, 217261, 217254, 217240, 217230, 217228, 217221, 217214, 217199, 217195, 217191, 217184, 217179, 217176, 217170, 217165, 217154, 217149, 217126, 217119, 217110, 217101, 217085, 217080, 217070, 217066, 217059, 217057, 217045, 217042, 217036, 217032, 217026, 217017, 217013, 217011, 217006, 216985, 216981, 216975, 216967, 216964, 216953, 216939, 216932, 216930, 216923, 216918, 216916, 216912, 216906, 216894, 216891, 216885, 216874, 216866, 216860, 216852, 216848, 216839, 216834, 216821, 216806, 216793, 216787, 216774, 216764, 216739, 216730, 216725, 216716, 216704, 216700, 216697, 216687, 216677, 216674, 216668, 216655, 216650, 216642, 216636, 216632, 216624, 216621, 216613, 216608, 216598, 216592, 216587, 216584, 216578, 216574, 216572, 216565, 216561, 216556, 216550, 216541, 216531, 216529, 216515, 216490, 216482, 216464, 216457, 216454, 216449, 216442, 216434, 216431, 216422, 216409, 216401, 216396, 216394, 216383, 216379, 216373, 216362, 216352, 216338, 216326, 216319, 216291]
site_ids = Set.new(site_ids)

if %x[hostname].strip == 'edge.hellobar.com'
  Site.in_bar_ads_config = {
    test_fraction: 1.0,
    show_to_fraction: 0.9
  }
elsif Rails.env.production?
  Site.in_bar_ads_config = {
    site_ids: site_ids
  }
end
